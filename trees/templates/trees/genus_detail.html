{% extends "base.html" %}
{% load staticfiles %}
{% load pdxtree_snippets %}

{% block page_title %}
	{% if genus %}
		Genus: {{genus.genus_name}} 
	{% else %}
		Unknown Genus
	{% endif %}
{% endblock %}

{% block page_head %}
	{% map_div_headers %}
{% endblock %}

{% block content %}

<div class="pdxt-unified-row">
	<div class="pdxt-single-column">
		
		<h2>Genus Detail</h2>
		
		<p>Other Common Genera in the Collection (navigation)</p>

		<ul class="list-inline">
			{% for g in genus_menu_list %}
				<li><a href="{{g.get_absolute_url}}">{{g.common_name}}</a></li>
			{% endfor %}
		</ul>
		
	</div>
</div>

{% if genus %}
	<div class="pdxt-split-row">
		<div class="pdxt-left-column">
			<div id="map"></div>
		</div>
		<div class="pdxt-right-column">
			<h2>{{genus.common_name}}</h2>
			<h3 class="scientific-name">{{genus.genus_name}}</h3>
			<h4>{{genus.trees.count}} Trees Found</h4>
			{% for t in genus.trees.all %}
				<p><a href="{% url 'trees:tree_detail_url' t.city_tree_id %}">{{t.city_tree_id}}: {{t.common_name}}</a></p>
			{% endfor %}
		</div>
	</div>
	
{% else %}
	<div class="pdxt-unified-row">
		<div class="pdxt-single-column">
			<p>No trees found with genus: {{genus.genus_name}}</p>
		</div>
	</div>
{% endif %}

{% endblock %}


{% block document_ready_javascript %}
	{% map_div_js 45.5292 -122.6993 11 'map' %}
{% endblock %}
